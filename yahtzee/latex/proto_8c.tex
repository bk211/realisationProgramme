\hypertarget{proto_8c}{}\section{proto.\+c File Reference}
\label{proto_8c}\index{proto.\+c@{proto.\+c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$stdarg.\+h$>$}\newline
{\ttfamily \#include \char`\"{}mecanisme\+Jeu.\+h\char`\"{}}\newline
Include dependency graph for proto.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{proto_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{proto_8c_aedc55fd9756d84e32e3f03e04f964076}{tirage} (int max)
\item 
void \hyperlink{proto_8c_ab55e6b5866c616840bef8cccef4952c5}{roll\+Dices} (\hyperlink{structPlayer}{Player} $\ast$p)
\item 
void \hyperlink{proto_8c_a270db6d766abade9ad6e54cc58e9822b}{begin\+Turn} (\hyperlink{structPlayer}{Player} $\ast$p)
\item 
int \hyperlink{proto_8c_af34915129a343bf4c2718354a681f1fb}{boucle\+\_\+de\+\_\+saisie} (int a, int b)
\item 
void \hyperlink{proto_8c_ad9ebcce43b3be9b75d300f961d53d329}{display\+Dices} (\hyperlink{structPlayer}{Player} $\ast$p)
\item 
void \hyperlink{proto_8c_a9ccbcda936f74ce7cb8471cc41b8415e}{complete\+Turn} (\hyperlink{structPlayer}{Player} $\ast$p)
\item 
int \hyperlink{proto_8c_a840291bc02cba5474a4cb46a9b9566fe}{main} (void)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{proto_8c_a270db6d766abade9ad6e54cc58e9822b}\label{proto_8c_a270db6d766abade9ad6e54cc58e9822b}} 
\index{proto.\+c@{proto.\+c}!begin\+Turn@{begin\+Turn}}
\index{begin\+Turn@{begin\+Turn}!proto.\+c@{proto.\+c}}
\subsubsection{\texorpdfstring{begin\+Turn()}{beginTurn()}}
{\footnotesize\ttfamily void begin\+Turn (\begin{DoxyParamCaption}\item[{\hyperlink{structPlayer}{Player} $\ast$}]{p }\end{DoxyParamCaption})}



Definition at line 41 of file proto.\+c.



References Player\+::dices, Player\+::dices\+Allowed, and Player\+::nbr\+Roll\+Remain.



Referenced by complete\+Turn().


\begin{DoxyCode}
41                          \{
42 
43   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0 ; i < 6 ; ++i)\{
44     p->\hyperlink{structPlayer_a676bd9687aaa50806f419c4ae170bcb2}{dices}[i] = 0 ;
45     p->\hyperlink{structPlayer_adb33524b9364f3e0bcfc5bd098cdaaf0}{dicesAllowed}[i]=1;
46   \}
47   p->\hyperlink{structPlayer_ae4c871b61a2af583a8b5975d736bea5d}{nbrRollRemain} = 6 ; 
48 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=325pt]{proto_8c_a270db6d766abade9ad6e54cc58e9822b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{proto_8c_af34915129a343bf4c2718354a681f1fb}\label{proto_8c_af34915129a343bf4c2718354a681f1fb}} 
\index{proto.\+c@{proto.\+c}!boucle\+\_\+de\+\_\+saisie@{boucle\+\_\+de\+\_\+saisie}}
\index{boucle\+\_\+de\+\_\+saisie@{boucle\+\_\+de\+\_\+saisie}!proto.\+c@{proto.\+c}}
\subsubsection{\texorpdfstring{boucle\+\_\+de\+\_\+saisie()}{boucle\_de\_saisie()}}
{\footnotesize\ttfamily int boucle\+\_\+de\+\_\+saisie (\begin{DoxyParamCaption}\item[{int}]{a,  }\item[{int}]{b }\end{DoxyParamCaption})}



Definition at line 51 of file proto.\+c.



Referenced by complete\+Turn().


\begin{DoxyCode}
51                                   \{
52     \textcolor{comment}{//retourne l'entier i ssi il est compris dans intervalle [a,b]}
53     \textcolor{keywordtype}{int} i;
54     \textcolor{keywordflow}{do}\{
55         fflush(stdin);
56         \textcolor{comment}{//necessaire pour eviter un bug de boucle infinie si utilisateur saisie un type non int comme une
       charactere par exemple}
57         \textcolor{comment}{//meme si un char est un int...(scanf)}
58         printf(\textcolor{stringliteral}{"merci de saisir un nombre compris entre %d et %d\(\backslash\)n"}, a, b);
59         scanf(\textcolor{stringliteral}{"%d"},&i);
60     \}\textcolor{keywordflow}{while}( i <a || i>b ||\textcolor{keyword}{sizeof}(i) != \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}) );
61     \textcolor{keywordflow}{return} i;
62 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{proto_8c_af34915129a343bf4c2718354a681f1fb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{proto_8c_a9ccbcda936f74ce7cb8471cc41b8415e}\label{proto_8c_a9ccbcda936f74ce7cb8471cc41b8415e}} 
\index{proto.\+c@{proto.\+c}!complete\+Turn@{complete\+Turn}}
\index{complete\+Turn@{complete\+Turn}!proto.\+c@{proto.\+c}}
\subsubsection{\texorpdfstring{complete\+Turn()}{completeTurn()}}
{\footnotesize\ttfamily void complete\+Turn (\begin{DoxyParamCaption}\item[{\hyperlink{structPlayer}{Player} $\ast$}]{p }\end{DoxyParamCaption})}



Definition at line 73 of file proto.\+c.



References ask\+Dices(), begin\+Turn(), boucle\+\_\+de\+\_\+saisie(), Player\+::dices, display\+Dices(), display\+Score(), Player\+::nbr\+Roll\+Remain, refresh\+Dices(), roll\+Dices(), and Player\+::tab\+Score.



Referenced by main().


\begin{DoxyCode}
73                             \{
74   \textcolor{keywordtype}{int} v = 1 ;
75   \textcolor{keywordtype}{int} i = 0 ;
76   \hyperlink{proto_8c_a270db6d766abade9ad6e54cc58e9822b}{beginTurn}(p) ;
77   \textcolor{keywordflow}{while}(p->\hyperlink{structPlayer_ae4c871b61a2af583a8b5975d736bea5d}{nbrRollRemain} != 0)\{
78     printf(\textcolor{stringliteral}{"Actual outcome :\(\backslash\)n"}) ;
79     \hyperlink{proto_8c_ad9ebcce43b3be9b75d300f961d53d329}{displayDices}(p) ;
80     printf(\textcolor{stringliteral}{"Retoss some dice ? "}) ;
81     \textcolor{comment}{//scanf("%d", &v) ;}
82     v = \hyperlink{proto_8c_af34915129a343bf4c2718354a681f1fb}{boucle\_de\_saisie}(0,1) ;
83     \textcolor{keywordflow}{if}(v == 0) \{ p->\hyperlink{structPlayer_ae4c871b61a2af583a8b5975d736bea5d}{nbrRollRemain} = 0 ; \} \textcolor{comment}{//TODO appeler l'affichage de la grille}
84     \textcolor{keywordflow}{else}\{
85       
86       \textcolor{keywordtype}{int} roll = 1 ;
87       \textcolor{keywordflow}{while}(roll == 1 && p->\hyperlink{structPlayer_ae4c871b61a2af583a8b5975d736bea5d}{nbrRollRemain} != 0)\{
88     printf(\textcolor{stringliteral}{"Which one ? "}) ;
89     scanf(\textcolor{stringliteral}{"%d"}, &p->wannaRoll[i]) ;
90     ++i ;
91     printf(\textcolor{stringliteral}{"Select one other dice ? "}) ;
92     scanf(\textcolor{stringliteral}{"%d"}, &roll) ;     
93       \}
94       p->\hyperlink{structPlayer_ae4c871b61a2af583a8b5975d736bea5d}{nbrRollRemain} -= 1 ;
95       \hyperlink{proto_8c_ab55e6b5866c616840bef8cccef4952c5}{rollDices}(p) ;
96       printf(\textcolor{stringliteral}{"You've toss %d dice(s) again :\(\backslash\)nOUTCOME\(\backslash\)n"}, i) ;
97       \hyperlink{proto_8c_ad9ebcce43b3be9b75d300f961d53d329}{displayDices}(p) ;
98       printf(\textcolor{stringliteral}{"Remaining try : %d\(\backslash\)n"}, p->\hyperlink{structPlayer_ae4c871b61a2af583a8b5975d736bea5d}{nbrRollRemain}) ; 
99     \}
100   \}
101   printf(\textcolor{stringliteral}{"Next turn\(\backslash\)n"}) ;
102 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{proto_8c_a9ccbcda936f74ce7cb8471cc41b8415e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=230pt]{proto_8c_a9ccbcda936f74ce7cb8471cc41b8415e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{proto_8c_ad9ebcce43b3be9b75d300f961d53d329}\label{proto_8c_ad9ebcce43b3be9b75d300f961d53d329}} 
\index{proto.\+c@{proto.\+c}!display\+Dices@{display\+Dices}}
\index{display\+Dices@{display\+Dices}!proto.\+c@{proto.\+c}}
\subsubsection{\texorpdfstring{display\+Dices()}{displayDices()}}
{\footnotesize\ttfamily void display\+Dices (\begin{DoxyParamCaption}\item[{\hyperlink{structPlayer}{Player} $\ast$}]{p }\end{DoxyParamCaption})}



Definition at line 64 of file proto.\+c.



References Player\+::dices.



Referenced by complete\+Turn().


\begin{DoxyCode}
64                             \{
65   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0 ; i < 6 ; ++i)\{
66     printf(\textcolor{stringliteral}{"%d "}, p->\hyperlink{structPlayer_a676bd9687aaa50806f419c4ae170bcb2}{dices}[i]) ;
67     printf(\textcolor{stringliteral}{"... "});
68     sleep(1);
69   \}
70   printf(\textcolor{stringliteral}{"\(\backslash\)n"}) ;
71 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=339pt]{proto_8c_ad9ebcce43b3be9b75d300f961d53d329_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{proto_8c_a840291bc02cba5474a4cb46a9b9566fe}\label{proto_8c_a840291bc02cba5474a4cb46a9b9566fe}} 
\index{proto.\+c@{proto.\+c}!main@{main}}
\index{main@{main}!proto.\+c@{proto.\+c}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 104 of file proto.\+c.



References complete\+Turn(), and Player\+::dices.


\begin{DoxyCode}
104                \{
105   printf(\textcolor{stringliteral}{"NOTE : répondre par 1 ou 0 aux questions et pour selection des dès leurs indexs [1-7]\(\backslash\)n\(\backslash\)n"}); 
106   \hyperlink{structPlayer}{Player} *p ;
107   \hyperlink{structPlayer}{Player} firstPlayer ;
108   p = &firstPlayer ;
109   p->\hyperlink{structPlayer_a676bd9687aaa50806f419c4ae170bcb2}{dices} = malloc(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}) * 7) ;
110   \textcolor{keywordflow}{if}(p->\hyperlink{structPlayer_a676bd9687aaa50806f419c4ae170bcb2}{dices} == NULL) printf(\textcolor{stringliteral}{"p == Null !\(\backslash\)n"}) ; 
111   \hyperlink{proto_8c_a9ccbcda936f74ce7cb8471cc41b8415e}{completeTurn}(p) ;
112   
113   \textcolor{keywordflow}{return}(0) ;
114 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{proto_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{proto_8c_ab55e6b5866c616840bef8cccef4952c5}\label{proto_8c_ab55e6b5866c616840bef8cccef4952c5}} 
\index{proto.\+c@{proto.\+c}!roll\+Dices@{roll\+Dices}}
\index{roll\+Dices@{roll\+Dices}!proto.\+c@{proto.\+c}}
\subsubsection{\texorpdfstring{roll\+Dices()}{rollDices()}}
{\footnotesize\ttfamily void roll\+Dices (\begin{DoxyParamCaption}\item[{\hyperlink{structPlayer}{Player} $\ast$}]{p }\end{DoxyParamCaption})}



Definition at line 31 of file proto.\+c.



References Player\+::dices, and tirage().



Referenced by complete\+Turn().


\begin{DoxyCode}
31                          \{
32   srand((\textcolor{keywordtype}{unsigned})time(NULL));\textcolor{comment}{//set Seed pour le tirage}
33   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0 ; i < 8; ++i)\{
34     \textcolor{comment}{// int sub = va\_arg(va, int) ;}
35     \textcolor{keywordflow}{if} (dicesAllowed[i])\{
36       p->\hyperlink{structPlayer_a676bd9687aaa50806f419c4ae170bcb2}{dices}[p->wannaRoll[i]] = \hyperlink{proto_8c_aedc55fd9756d84e32e3f03e04f964076}{tirage}(8) ;
37     \}
38   \}
39 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=212pt]{proto_8c_ab55e6b5866c616840bef8cccef4952c5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{proto_8c_ab55e6b5866c616840bef8cccef4952c5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{proto_8c_aedc55fd9756d84e32e3f03e04f964076}\label{proto_8c_aedc55fd9756d84e32e3f03e04f964076}} 
\index{proto.\+c@{proto.\+c}!tirage@{tirage}}
\index{tirage@{tirage}!proto.\+c@{proto.\+c}}
\subsubsection{\texorpdfstring{tirage()}{tirage()}}
{\footnotesize\ttfamily int tirage (\begin{DoxyParamCaption}\item[{int}]{max }\end{DoxyParamCaption})}



Definition at line 24 of file proto.\+c.



Referenced by roll\+Dices().


\begin{DoxyCode}
24                    \{
25     \textcolor{comment}{/*tire au sort un nombre compris entre 0 inclus max; }
26 \textcolor{comment}{    srand((unsigned)time(NULL));*/}
27     rand();
28     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{double})(rand()/(double)(RAND\_MAX) * (max))+1;
29 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{proto_8c_aedc55fd9756d84e32e3f03e04f964076_icgraph}
\end{center}
\end{figure}
